# 3. 통계적 실험과 유의성 검정
```
실험설계는 어떤 가설을 확인하거나 기각하기 위한 목표를 갖고 있음
- 통계적 추론 과정: 가설 수립 → 실험 설계 → 데이터 수집 → 추론 및 결론 도출
```

## 3-1. A/B test
- 두 가지 처리 방법 중 어느 쪽이 다른 쪽보다 더 우월하다는 것을 입증하기 위해, 실험군을 두 그룹으로 나누어 진행하는 실험
- 그룹 A, B를 비교하는 데 사용하는 **검정통계량/측정 지표**는 실험 전에 미리 결정해야함  (연구자 편향 방지)
	- 대조군
		- 기존 방법 or 아무 처리도 하지 않은 대상들의 집단
		- 관심 처리를 뺀 나머지는 **처리군과 동일한 조건**이 적용돼야함
	- 처리군
		- 특정 처리에 노출된 대상들의 집단
	- 대상(피실험자)
		- 처리를 적용할 개체 대상
		- 이상적으로, 대상들은 그룹에 무작위로 배정됨

→ 데이터 과학에서는 "A, B 차이가 통계적으로 유의한가?" 보다는 "가능한 여러 처리 중에서 가장 좋은 것은 무엇인가?"에 더 관심있음

## 3-2. 가설검정
`- 관찰된 효과가 "우연"에 의한 것인지 여부 검증`
- 귀무가설과 대립가설이 모든 가능성을 설명할 수 있어야함
- 보통 귀무가설이 틀렸다는 것을 입증해서, 차이가 우연이 아니라는 것을 검증
	- 귀무가설
		- 어떤 효과가 특별한 것이 아니고, 우연에 의해 발생한 결과다
	- 대립가설
		- 귀무가설과 대조되는 가설 (증명하고자 하는 가설)
 
- 적절하게 설계된 A/B test에서는 A, B 사이의 관찰된 차이가 다음 두 가지 원인으로 설명될 수 있어야함
	1. 우연한 대상 선정
	2. A와 B의 진정한 차이
- 대리변수
	- 참된 관심 변수를 대신하는 변수
	- 관심 변수를 직접 얻을 수 없거나 측정하는 데 많은 비용, 시간이 소요되는 경우 대체하여 사용
	```
	ex. 웹디자인 A/B test. 판매되는 서비스가 고가여서 판매가 자주 발생하지 않고, 주기가 상당히 긴 경우
		- 실제 매출 데이터를 충분히 얻는 데 시간이 너무 오래 걸려, 디자인 우수성을 검증하기 어려움
		- 내부페이지 이용을 대리변수로 사용
			- 상세 랜딩 페이지 클릭 수 or 
			- 페이지에 머문 시간 측정 (세션 시간)
	```


## 3-3. 재표본추출
`- 랜덤한 변동성을 알아보기 위한 목표를 가지고, 관측 데이터로부터 표본을 반복적으로 추출하는 것`
- 부트스트랩
	- 추정의 **신뢰성**을 평가하는 데 사용됨
- 순열검정
	- 두 개 이상의 그룹과 관련된 가설을 검증하는 데 사용됨
	- 두 개 이상의 표본을 함께 결합하여 관측값들을 무작위로 재표본 추출하는 과정
		- 재표본 추출해서 관심 있는 표본통계량을 계산하는 과정을 반복하여, 순열분포 생성 
	- '실험을 통해 관찰한 차이 vs 순열 과정에서 얻은 집합에서의 차이' **비교**
		1. 관찰된 차이가 순열분포 내에 들어있는 경우
			- 관찰된 차이가 우연히 일어날 수 있는 범위 안에 있음 → 차이가 통계적으로 유의하지 않다
		2. 관찰된 차이가 대부분의 순열분포 바깥에 있는 경우
			- 차이가 우연 때문이 아니다 → 차이가 통계적으로 유의미하다


## 3-4. 통계적 유의성과 p-value
- 통계적 유의성
	- 실험 결과가 우연히 일어난 것인지, 우연히 일어날 수 없는 극단적인 것인지 판단하는 방법
	- 실험 결과가 우연히 발생할 수 있는 변동성(무작의 변이)의 바깥에 존재한다면, 통계적으로 유의하다고 판단
	- 표본 크기가 커질수록 p-value가 더 작아짐
- p-value
	- 귀무가설로부터 나올 수 있는 결과가, 관측된 결과 같이 특이하거나 극단적으로 나타날 확률
- 제1종 오류
	- 우연에 의한 효과를 실제 효과라고 잘못 결론 내리는 것
	- 가설검정의 기본은 우연히 일어난 일에 속지 않는 것이므로, 1종 오류를 최소화하는 가설을 설계하는 것이 중요!
- 제2종 오류
	- 실제 효과를 우연에 의한 효과라고 잘못 결론 내리는 것
	- 오류라기보다는 표본크기가 너무 작아서 효과를 알아낼 수 없다고 판단하는 것과 같음

→ p-value 만으로 중요한 의사결정을 내려서는 안되며, 통계적으로 유의하다고해서 실제적으로 유의미하다는 뜻이 아님! (정보의 일부일 뿐임)
→ 데이터 과학에서 p-value는 모델의 결과가 일반적인 랜덤 변이 범위 내에 있는지를 알고 싶을 때 유용한 측정 지표



