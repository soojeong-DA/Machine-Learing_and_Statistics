# 3. 통계적가설검정
```
- 표본을 사용해 모집단에 관한 통계적인 판단을 내리는 방법
- 판단의 기준으로 통계 지표(검정) 활용
	- 단, 해당 검정 결과만으로 의사결정을 내리면 위험함
	- 검정 결과, 데이터 분포, 맥락 등 종합적인 요소 고려해 판단해야
```
- 가설
	- 가설을 세워서 그 가설이 기각되는지 판단함으로써 데이터에 대한 객관적인 판단을 시도
	- 귀무가설
		- 연구에서 검증하는 가설
	- 대립가설
		- 귀무가설과 반대되는 가설
		- 연구자가 연구를 통해 입증되길 기대하는 가설
- 오류
	1. 제1종 오류
		- 귀무가설이 올바르지만 귀무가설을 기각하는 경우 
		- 제1종 오류를 범할 확률을 p-value로 계산
	2. 제 2종 오류
		- 귀무가설이 틀렸는데 귀무가설을 채택하는 경우
		- 통계적가설검정으로 컨트롤할 수 없음
- p-value
	- 정의 및 설명
		- 귀무가설이 맞다고 가정할 때 얻은 결과보다 극단적인 결과가 실제로 관측될 확률
		- p-value가 유의수준보다 작으면 귀무가설을 기각
		- 단측검정(크다, 작다)인지 양측검정(다르다)인지에 따라 p-value의 차이가 있음 → 양측검정하는 경우가 다수
	- 주의점
		- p-value가 유의수준보다 클 때의 해석
			- " ~은 ~와 유의미한 차이가 있다고 말할 수 없다"로 해석
			- 같다, 차이가 없다로 해석하는 것은 틀림
		- p-value가 작으면 차이가 큰 것이 아님
			- 샘플사이즈, 분산, 차이크기의 포괄적인 요소의 영향을 받기 때문에

	
**→ p-value값만 보고 실험 결과를 해석하면 위험함**
	- 원래 데이터의 평균값, boxplot, violinplot 등을 같이 활용해서 종합적으로 판단해야함

## 3-1. t검정
- 모집단 분포가 정규분포라 가정
- 다음 3가지 조건을 만족했을 때 유의미한 차이가 있다고 판단 가능 
	→ 평균값의 차이가 큰 것만으로는 유의미한 차이를 얻을 수 없음
	1. 샘플사이즈가 크다.
	2. 데이터의 분산이 작다.
	3. 평균값의 차이가 크다.
- t값 = (표본평균 - 비교대상값) / 표준오차
	- t값이 클 경우  유의미한 차이가 있다고 판단할 수 있음 (절대값)

## 3-2. 평균 차이 검정
- 2개의 변수 사이에서 평균값에 차이가 있는지 판단
1. 대응표본 t-검정
	- 같은 대상을 다른 조건으로 2번 측정하여, 그 차이를 보는 경우 사용
	- ex.
		- p-value가 0.05보다 작으므로, 약을 먹기 전과 후의 체온은 유의미한 차이가 있다고할 수 있다.
		```python
		# 귀무가설 -  약을 먹기 전과 후의 체온이 변하지 않는다.
		# 대립가설 - 약을 먹기 전과 후의 체온이 다르다.
		# 유의수준 5%
		stats.ttest_rel(after, before)
		# Ttest_relResult(statistic=2.90169, pvalue=0.04404)
		```
2. 독립표본 t-검정
	- 서로 다른 두 집단간 평균 차이 검증 (독립표본 데이터에 적용)
		- 등분산성 검정
			- 두 집단의 분산이 다르다고 가정
	```python
		stats.ttest_ind(group1, gruop2, equal_var=False)
	```

 ## 3-3. 카이제곱검정
- 관찰된 빈도가 기대되는 빈도와 의미있게 다른지의 여부를 검정하는 방법
- ex. 버튼 색에 다라 클릭이 달라진다고 볼 수 있나?
	data
	|버튼 색|클릭함|클릭하지 않음|합계|
	|------|---|---|---|
	|파랑|20|230|250|
	|빨강|10|40|50|
	|합계|30|270|300|
	→ 클릭함:클릭하지 않음 = 30:270 = 1:9의 비율을 가짐 → (색 무시하면) 전체의 10%의 사람만이 버튼을 클릭 ⇒ 이를 통해 기대도수를 구함
	```python
		sp.stats.chi2_contingency(cross, correction=False)
		# 결과는 카이제곱 통계량, p-value, 자유도, 기대도수 순서대로 출력됨
		# 이경우 p-value가 0.00982로 0.05보다 작음
		# 색에 따라 버튼을 클릭하는 것이 유의미하게 차이가 있다
	```